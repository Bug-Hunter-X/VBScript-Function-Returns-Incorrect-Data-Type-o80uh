Function doesn't return expected value due to incorrect data type handling